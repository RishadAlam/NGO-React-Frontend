@import '../../scss/variables';
@import '../../scss/responsive';

.dashboard {
  --dashboard-radius: 18px;
  --dashboard-shadow: 0 20px 36px -18px rgba(15, 23, 42, 0.62);
  --dashboard-shadow-soft: 0 14px 28px -20px rgba(15, 23, 42, 0.5);
  --dashboard-metric-bg: linear-gradient(
    156deg,
    rgba(var(--main-bg-rgb), 0.94) 0%,
    rgba(var(--primary-rgb), 0.12) 62%,
    rgba(var(--accent-rgb), 0.09) 100%
  );
  --dashboard-panel-bg: linear-gradient(
    160deg,
    rgba(var(--main-bg-rgb), 0.95) 0%,
    rgba(var(--primary-rgb), 0.1) 64%,
    rgba(var(--accent-rgb), 0.07) 100%
  );

  .dashboard-grid {
    align-items: stretch;
  }

  .dashboard-column {
    display: flex;
    flex-direction: column;
  }

  .dashboard-stack {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    height: 100%;
  }

  .box {
    padding: 18px;
    border-radius: var(--dashboard-radius);
    border: 1px solid var(--border-color);
    position: relative;
    isolation: isolate;
    overflow: hidden;
    box-shadow: var(--dashboard-shadow-soft);
    transition:
      transform 0.22s ease,
      border-color 0.22s ease,
      box-shadow 0.22s ease;

    &::before {
      content: '';
      position: absolute;
      inset: 0;
      pointer-events: none;
      background: linear-gradient(
        145deg,
        rgba(var(--primary-rgb), 0.06) 0%,
        rgba(var(--accent-rgb), 0.03) 100%
      );
      z-index: 0;
      opacity: 0.42;
    }

    & > * {
      position: relative;
      z-index: 1;
    }

    &:hover {
      transform: translateY(-2px);
      border-color: rgba(var(--primary-rgb), 0.42);
      box-shadow: var(--dashboard-shadow);
    }

    &.withdrawal-list,
    &.collection-list,
    &.top-collectors,
    &.pie-analytics,
    &.dashboard-panel {
      padding: 0 !important;
      border: none !important;
      background-color: transparent !important;
      box-shadow: none !important;

      &::before {
        display: none;
      }
    }
  }

  .card-section {
    width: 100%;
    margin: 0 !important;

    .metric-card {
      min-height: 212px;
      background: var(--dashboard-metric-bg);

      &::before {
        opacity: 0.35;
      }
    }

    .metric-card--accent::before {
      background: linear-gradient(
        155deg,
        rgba(var(--accent-rgb), 0.09) 0%,
        rgba(var(--primary-rgb), 0.04) 100%
      );
    }

    .metric-card--primary::before {
      background: linear-gradient(
        155deg,
        rgba(var(--primary-rgb), 0.1) 0%,
        rgba(var(--accent-rgb), 0.04) 100%
      );
    }
  }

  .dashboard-panel .card {
    min-height: 100%;
    border-radius: var(--dashboard-radius);
    border: 1px solid var(--border-color);
    overflow: hidden;
    box-shadow: var(--dashboard-shadow-soft);
    background: var(--dashboard-panel-bg);
  }

  .dashboard-panel .card-header {
    border-bottom: 1px solid rgba(var(--primary-rgb), 0.22);
    background: var(--surface-bg-strong);
    padding: 14px 18px;
  }

  .dashboard-panel .card-body {
    padding: 16px 18px;
  }

  .withdrawal-list,
  .collection-list,
  .box-card {
    min-height: 220px;
  }

  .top-collectors {
    min-height: 320px;
  }

  .pie-analytics {
    min-height: 360px;
  }

  .withdrawal-list,
  .collection-list {
    min-height: 260px;
  }

  @include lg {
    .top-collectors {
      min-height: 300px;
    }

    .pie-analytics {
      min-height: 340px;
    }
  }

  @include md {
    .dashboard-stack {
      gap: 0.75rem;
    }

    .box {
      padding: 16px;
    }

    .card-section .metric-card {
      min-height: 200px;
    }
  }
}
