export const THEME_PALETTE_COOKIE = 'themePalette'
export const DEFAULT_THEME_PALETTE = 'ocean-blue'

export const THEME_PALETTES = [
  {
    id: 'ocean-blue',
    label: 'Ocean Blue',
    light: {
      'main-bg': '#f5f8fc',
      'main-bg-rgb': '245, 248, 252',
      'soft-bg': '#ffffff',
      'main-color': '#1e293b',
      'soft-color': '#475569',
      'primary-color': '#2563eb',
      'primary-color-hover': '#1d4ed8',
      'primary-rgb': '37, 99, 235',
      'accent-color': '#0ea5e9',
      'accent-soft-color': '#0ea5e97d',
      'accent-rgb': '14, 165, 233',
      'secondary-color': '#e2e8f0',
      'border-color': '#d6e3f5'
    },
    dark: {
      'main-bg': '#0b1220',
      'main-bg-rgb': '11, 18, 32',
      'soft-bg': '#111a2e',
      'main-color': '#e2e8f0',
      'soft-color': '#94a3b8',
      'primary-color': '#60a5fa',
      'primary-color-hover': '#3b82f6',
      'primary-rgb': '96, 165, 250',
      'accent-color': '#38bdf8',
      'accent-soft-color': '#38bdf87d',
      'accent-rgb': '56, 189, 248',
      'secondary-color': '#111a2e',
      'border-color': '#24324a'
    }
  },
  {
    id: 'indigo-night',
    label: 'Indigo Night',
    light: {
      'main-bg': '#f7f7fd',
      'main-bg-rgb': '247, 247, 253',
      'soft-bg': '#ffffff',
      'main-color': '#1f2340',
      'soft-color': '#525b7a',
      'primary-color': '#4f46e5',
      'primary-color-hover': '#4338ca',
      'primary-rgb': '79, 70, 229',
      'accent-color': '#6366f1',
      'accent-soft-color': '#6366f17d',
      'accent-rgb': '99, 102, 241',
      'secondary-color': '#e8eafc',
      'border-color': '#d8dcfb'
    },
    dark: {
      'main-bg': '#0f1224',
      'main-bg-rgb': '15, 18, 36',
      'soft-bg': '#171b32',
      'main-color': '#e5e7ff',
      'soft-color': '#a7afd6',
      'primary-color': '#818cf8',
      'primary-color-hover': '#6366f1',
      'primary-rgb': '129, 140, 248',
      'accent-color': '#a5b4fc',
      'accent-soft-color': '#a5b4fc7d',
      'accent-rgb': '165, 180, 252',
      'secondary-color': '#171b32',
      'border-color': '#2d3560'
    }
  },
  {
    id: 'sunset-coral',
    label: 'Sunset Coral',
    light: {
      'main-bg': '#fff7f5',
      'main-bg-rgb': '255, 247, 245',
      'soft-bg': '#ffffff',
      'main-color': '#2b1f1b',
      'soft-color': '#6b4f45',
      'primary-color': '#ea580c',
      'primary-color-hover': '#c2410c',
      'primary-rgb': '234, 88, 12',
      'accent-color': '#fb923c',
      'accent-soft-color': '#fb923c7d',
      'accent-rgb': '251, 146, 60',
      'secondary-color': '#ffe9df',
      'border-color': '#f5d2bf'
    },
    dark: {
      'main-bg': '#22140f',
      'main-bg-rgb': '34, 20, 15',
      'soft-bg': '#2f1d17',
      'main-color': '#fbeee8',
      'soft-color': '#d6b8ac',
      'primary-color': '#fdba74',
      'primary-color-hover': '#fb923c',
      'primary-rgb': '253, 186, 116',
      'accent-color': '#f97316',
      'accent-soft-color': '#f973167d',
      'accent-rgb': '249, 115, 22',
      'secondary-color': '#2f1d17',
      'border-color': '#5b3a2d'
    }
  },
  {
    id: 'royal-purple',
    label: 'Royal Purple',
    light: {
      'main-bg': '#f8f7ff',
      'main-bg-rgb': '248, 247, 255',
      'soft-bg': '#ffffff',
      'main-color': '#2a1f46',
      'soft-color': '#5b4b82',
      'primary-color': '#6d28d9',
      'primary-color-hover': '#5b21b6',
      'primary-rgb': '109, 40, 217',
      'accent-color': '#a855f7',
      'accent-soft-color': '#a855f77d',
      'accent-rgb': '168, 85, 247',
      'secondary-color': '#ece8ff',
      'border-color': '#ddd4ff'
    },
    dark: {
      'main-bg': '#150f24',
      'main-bg-rgb': '21, 15, 36',
      'soft-bg': '#201534',
      'main-color': '#efe9ff',
      'soft-color': '#b7a8d9',
      'primary-color': '#a78bfa',
      'primary-color-hover': '#8b5cf6',
      'primary-rgb': '167, 139, 250',
      'accent-color': '#c084fc',
      'accent-soft-color': '#c084fc7d',
      'accent-rgb': '192, 132, 252',
      'secondary-color': '#201534',
      'border-color': '#3c2d66'
    }
  },
  {
    id: 'slate-mono',
    label: 'Slate Mono',
    light: {
      'main-bg': '#f8fafc',
      'main-bg-rgb': '248, 250, 252',
      'soft-bg': '#ffffff',
      'main-color': '#1f2937',
      'soft-color': '#475569',
      'primary-color': '#334155',
      'primary-color-hover': '#1e293b',
      'primary-rgb': '51, 65, 85',
      'accent-color': '#64748b',
      'accent-soft-color': '#64748b7d',
      'accent-rgb': '100, 116, 139',
      'secondary-color': '#e2e8f0',
      'border-color': '#cbd5e1'
    },
    dark: {
      'main-bg': '#0f172a',
      'main-bg-rgb': '15, 23, 42',
      'soft-bg': '#111827',
      'main-color': '#e5e7eb',
      'soft-color': '#94a3b8',
      'primary-color': '#60a5fa',
      'primary-color-hover': '#3b82f6',
      'primary-rgb': '96, 165, 250',
      'accent-color': '#93c5fd',
      'accent-soft-color': '#93c5fd7d',
      'accent-rgb': '147, 197, 253',
      'secondary-color': '#111827',
      'border-color': '#334155'
    }
  },
  {
    id: 'ruby-ember',
    label: 'Ruby Ember',
    light: {
      'main-bg': '#fff7f8',
      'main-bg-rgb': '255, 247, 248',
      'soft-bg': '#ffffff',
      'main-color': '#32181e',
      'soft-color': '#75515a',
      'primary-color': '#be123c',
      'primary-color-hover': '#9f1239',
      'primary-rgb': '190, 18, 60',
      'accent-color': '#ef4444',
      'accent-soft-color': '#ef44447d',
      'accent-rgb': '239, 68, 68',
      'secondary-color': '#ffe3e8',
      'border-color': '#e8a9b8'
    },
    dark: {
      'main-bg': '#1e1116',
      'main-bg-rgb': '30, 17, 22',
      'soft-bg': '#2b1720',
      'main-color': '#fdecef',
      'soft-color': '#d7b2bb',
      'primary-color': '#fb7185',
      'primary-color-hover': '#f43f5e',
      'primary-rgb': '251, 113, 133',
      'accent-color': '#fda4af',
      'accent-soft-color': '#fda4af7d',
      'accent-rgb': '253, 164, 175',
      'secondary-color': '#2b1720',
      'border-color': '#6b3a4a'
    }
  },
  {
    id: 'arctic-frost',
    label: 'Arctic Frost',
    light: {
      'main-bg': '#f4fbff',
      'main-bg-rgb': '244, 251, 255',
      'soft-bg': '#ffffff',
      'main-color': '#10263a',
      'soft-color': '#48657d',
      'primary-color': '#0f6ea8',
      'primary-color-hover': '#0b5a89',
      'primary-rgb': '15, 110, 168',
      'accent-color': '#38bdf8',
      'accent-soft-color': '#38bdf87d',
      'accent-rgb': '56, 189, 248',
      'secondary-color': '#deeff9',
      'border-color': '#a9cbe0'
    },
    dark: {
      'main-bg': '#0a1926',
      'main-bg-rgb': '10, 25, 38',
      'soft-bg': '#112636',
      'main-color': '#e5f5ff',
      'soft-color': '#9fc1d6',
      'primary-color': '#7dd3fc',
      'primary-color-hover': '#38bdf8',
      'primary-rgb': '125, 211, 252',
      'accent-color': '#bae6fd',
      'accent-soft-color': '#bae6fd7d',
      'accent-rgb': '186, 230, 253',
      'secondary-color': '#112636',
      'border-color': '#355e79'
    }
  },
  {
    id: 'sand-dune',
    label: 'Sand Dune',
    light: {
      'main-bg': '#fcf8f1',
      'main-bg-rgb': '252, 248, 241',
      'soft-bg': '#ffffff',
      'main-color': '#2f2619',
      'soft-color': '#6b5a43',
      'primary-color': '#a16207',
      'primary-color-hover': '#854d0e',
      'primary-rgb': '161, 98, 7',
      'accent-color': '#d97706',
      'accent-soft-color': '#d977067d',
      'accent-rgb': '217, 119, 6',
      'secondary-color': '#f6ead8',
      'border-color': '#d8bd96'
    },
    dark: {
      'main-bg': '#1f1a12',
      'main-bg-rgb': '31, 26, 18',
      'soft-bg': '#2d261b',
      'main-color': '#f8efe1',
      'soft-color': '#d6c2a5',
      'primary-color': '#fbbf24',
      'primary-color-hover': '#f59e0b',
      'primary-rgb': '251, 191, 36',
      'accent-color': '#fcd34d',
      'accent-soft-color': '#fcd34d7d',
      'accent-rgb': '252, 211, 77',
      'secondary-color': '#2d261b',
      'border-color': '#6f5a3f'
    }
  },
  {
    id: 'midnight-neon',
    label: 'Midnight Neon',
    light: {
      'main-bg': '#f7f8ff',
      'main-bg-rgb': '247, 248, 255',
      'soft-bg': '#ffffff',
      'main-color': '#202743',
      'soft-color': '#59608a',
      'primary-color': '#4338ca',
      'primary-color-hover': '#3730a3',
      'primary-rgb': '67, 56, 202',
      'accent-color': '#db2777',
      'accent-soft-color': '#db27777d',
      'accent-rgb': '219, 39, 119',
      'secondary-color': '#e9e8ff',
      'border-color': '#c2bbff'
    },
    dark: {
      'main-bg': '#0d1021',
      'main-bg-rgb': '13, 16, 33',
      'soft-bg': '#171b33',
      'main-color': '#eaedff',
      'soft-color': '#aeb4dc',
      'primary-color': '#818cf8',
      'primary-color-hover': '#6366f1',
      'primary-rgb': '129, 140, 248',
      'accent-color': '#f472b6',
      'accent-soft-color': '#f472b67d',
      'accent-rgb': '244, 114, 182',
      'secondary-color': '#171b33',
      'border-color': '#3f4a86'
    }
  },
  {
    id: 'carbon-gold',
    label: 'Carbon Gold',
    light: {
      'main-bg': '#fafaf8',
      'main-bg-rgb': '250, 250, 248',
      'soft-bg': '#ffffff',
      'main-color': '#25231d',
      'soft-color': '#5f5a4e',
      'primary-color': '#b45309',
      'primary-color-hover': '#92400e',
      'primary-rgb': '180, 83, 9',
      'accent-color': '#ca8a04',
      'accent-soft-color': '#ca8a047d',
      'accent-rgb': '202, 138, 4',
      'secondary-color': '#efece2',
      'border-color': '#cfc3ad'
    },
    dark: {
      'main-bg': '#121314',
      'main-bg-rgb': '18, 19, 20',
      'soft-bg': '#1c1e21',
      'main-color': '#f5f4ef',
      'soft-color': '#c6c2b4',
      'primary-color': '#f59e0b',
      'primary-color-hover': '#d97706',
      'primary-rgb': '245, 158, 11',
      'accent-color': '#facc15',
      'accent-soft-color': '#facc157d',
      'accent-rgb': '250, 204, 21',
      'secondary-color': '#1c1e21',
      'border-color': '#5a503c'
    }
  }
]

const paletteMap = THEME_PALETTES.reduce((acc, palette) => {
  acc[palette.id] = palette
  return acc
}, {})

export const getThemePalette = (paletteId) =>
  paletteMap[paletteId] || paletteMap[DEFAULT_THEME_PALETTE]

export const applyThemePalette = (paletteId, mode = 'light') => {
  if (typeof document === 'undefined') return
  const palette = getThemePalette(paletteId)
  const themeMode = mode === 'dark' ? 'dark' : 'light'
  const tokens = palette[themeMode]
  const mainBgRgb = tokens['main-bg-rgb']
  const primaryRgb = tokens['primary-rgb']
  const accentRgb = tokens['accent-rgb']
  const pageBackgroundGradient =
    themeMode === 'dark'
      ? `radial-gradient(circle at 8% -12%, rgba(${primaryRgb}, 0.34) 0%, transparent 48%), radial-gradient(circle at 95% 4%, rgba(${accentRgb}, 0.26) 0%, transparent 44%), radial-gradient(circle at 48% 120%, rgba(${primaryRgb}, 0.2) 0%, transparent 58%), linear-gradient(160deg, rgba(${mainBgRgb}, 0.94) 0%, rgba(2, 6, 23, 0.98) 62%, rgba(1, 3, 12, 1) 100%)`
      : `radial-gradient(circle at 8% -6%, rgba(${primaryRgb}, 0.28) 0%, transparent 42%), radial-gradient(circle at 92% 6%, rgba(${accentRgb}, 0.24) 0%, transparent 40%), radial-gradient(circle at 50% 115%, rgba(${primaryRgb}, 0.14) 0%, transparent 52%), linear-gradient(165deg, rgba(255, 255, 255, 0.92) 0%, rgba(${mainBgRgb}, 0.96) 55%, rgba(${mainBgRgb}, 1) 100%)`
  const surfaceBackground =
    themeMode === 'dark'
      ? `linear-gradient(155deg, rgba(${mainBgRgb}, 0.96) 0%, rgba(${primaryRgb}, 0.25) 56%, rgba(${accentRgb}, 0.18) 100%)`
      : `linear-gradient(155deg, rgba(255, 255, 255, 0.99) 0%, rgba(${primaryRgb}, 0.12) 52%, rgba(${accentRgb}, 0.1) 100%)`
  const surfaceBackgroundStrong =
    themeMode === 'dark'
      ? `linear-gradient(155deg, rgba(${mainBgRgb}, 0.99) 0%, rgba(${primaryRgb}, 0.3) 68%, rgba(${accentRgb}, 0.16) 100%)`
      : `linear-gradient(155deg, rgba(255, 255, 255, 1) 0%, rgba(${primaryRgb}, 0.18) 65%, rgba(${accentRgb}, 0.08) 100%)`

  Object.entries(tokens).forEach(([token, value]) => {
    document.body.style.setProperty(`--${token}`, value)
  })
  document.body.style.setProperty('--page-bg-gradient', pageBackgroundGradient)
  document.body.style.setProperty('--surface-bg', surfaceBackground)
  document.body.style.setProperty('--surface-bg-strong', surfaceBackgroundStrong)
  document.body.dataset.themePalette = palette.id
}
